<header class="modern-header">
  <div class="header-top">
    <div class="logo-container">
      <div class="logo-animated">
        <span class="logo-tree"><i class="fas fa-tree"></i></span>
        <div class="logo-pulse"></div>
      </div>
      <div class="logo-text">
        <h1 class="logo-title">Généalogie</h1>
        <p class="logo-subtitle">Votre héritage familial</p>
      </div>
    </div>


    <div class="header-actions">
      <button class="btn-import" type="button" (click)="onTriggerImport()" aria-label="Importer des données">
        <span class="btn-icon"><i class="fas fa-file-import"></i></span>
        Importer
      </button>
      <div class="guide-indicator" (click)="onShowGuide()" title="Guide" role="button" tabindex="0" (keydown.enter)="onShowGuide()" [attr.aria-label]="'Ouvrir le guide, progression ' + guideService.getProgressPercentage() + '%'">
        <span class="indicator-icon"><i class="fas fa-graduation-cap"></i></span>
        <span class="indicator-progress">
          <span class="progress-bar">
            <span
              class="progress-fill"
              [style.width.%]="guideService.getProgressPercentage()"
            ></span>
          </span>
          <span class="progress-text">
            {{ guideService.getProgressPercentage() }}%
          </span>
        </span>
      </div>
    </div>
  </div>

  <!-- Indicateur de famille sélectionnée -->
  <div *ngIf="selectedFamily" class="family-indicator">
    <div class="indicator-content">
      <div class="indicator-icon"><i class="fas fa-home"></i></div>
      <div class="indicator-info">
        <h3>{{ selectedFamily.name }}</h3>
        <div class="indicator-stats">
          <span class="stat"><i class="fas fa-users"></i> {{ getTotalMembers(selectedFamily) }} membres</span>
          <span class="stat"><i class="fas fa-sitemap"></i> {{ maxLevel + 1 }} générations</span>
          <span class="stat"><i class="fas fa-calendar-alt"></i> {{ selectedFamily.createdAt | date:'dd/MM/yyyy' }}</span>
        </div>
      </div>
    </div>
    <button class="btn-action-primary" (click)="onOpenJsonManager()">
      <span class="btn-icon"><i class="fas fa-database"></i></span>
      Gérer les données
    </button>
  </div>
</header>
